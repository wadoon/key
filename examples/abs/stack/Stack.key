// This file is part of KeY - Integrated Deductive Software Design
// Copyright (C) 2001-2009 Universitaet Karlsruhe, Germany
//                         Universitaet Koblenz-Landau, Germany
//                         Chalmers University of Technology, Sweden
//
// The KeY system is protected by the GNU General Public License. 
// See LICENSE.TXT for details.
// Input file for KeY standalone prover version 0.497

\absSource ".";

\module "MyModule";

\programVariables {
   MyModule.Stack this;
}

\rules {

  insertClassInvariant {
  	\schemaVar \term ABSAnyInterface thisRef;
  	\schemaVar \term Heap heapSV;
  	\schemaVar \term Seq historySV;
  	
  	\find (CInv(heapSV, historySV, thisRef))
  	\replacewith (true)
  	\heuristics(simplify)
  };
}

/*
   this.a == lastIndexIn(history, set@Variable, 1)   
*/

\problem {

wfHist(history) & this != null & wellFormed(heap) -> 
\[{ result = ABS.StdLib.List::head(this.content); }\] this != null
                	                 

}


