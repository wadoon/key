// This file is part of KeY - Integrated Deductive Software Design
// Copyright (C) 2001-2009 Universitaet Karlsruhe, Germany
//                         Universitaet Koblenz-Landau, Germany
//                         Chalmers University of Technology, Sweden
//
// The KeY system is protected by the GNU General Public License. 
// See LICENSE.TXT for details.
// Input file for KeY standalone prover version 0.497

\absSource ".";

\module "VariableModule";
\class "VariableImpl";

\programVariables {
	VariableModule.Variable o;
	VariableModule.Variable this;
	ABS.StdLib.Fut<ABS.StdLib.Unit> ack;
}

\invariants(Seq historySV, Heap heapSV, any self) {
    test:VariableModule.VariableImpl {
        int::select(heap, (ABSAnyInterface) self, VariableModule.VariableImpl::value) >= 0
    };
}


\problem {
CInv(history, heap, this)      & 
wfHist(history) &
this != null    &
o != null       &
wellFormed(heap) ->
   \[{  Fut<Int> local_ack = o!send(0);
        await local_ack?;
	Int i = local_ack.get(); 
   }\] (wfHist(history) &
        isCompletionEv(HistoryLabel::seqGet(history, seqLen(history)-1)))
}


