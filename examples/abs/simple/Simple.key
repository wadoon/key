// This file is part of KeY - Integrated Deductive Software Design
// Copyright (C) 2001-2009 Universitaet Karlsruhe, Germany
//                         Universitaet Koblenz-Landau, Germany
//                         Chalmers University of Technology, Sweden
//
// The KeY system is protected by the GNU General Public License. 
// See LICENSE.TXT for details.
// Input file for KeY standalone prover version 0.497

\absSource ".";

\programVariables {
	ABS.StdLib.Int tot;
	ABS.StdLib.Int itemPrice;
	ABS.StdLib.Int old;
	ABS.StdLib.Bool coupon;
	MyModule.Variable this;
}

\rules {
  insertClassInvariant {
  	\find (CInv(heap, history, this))
  	\replacewith (true)
  	\heuristics(simplify)
  };
}

/*
   this.a == lastIndexIn(history, set@Variable, 1)   
*/

\problem {
  tot>=0 & old = tot & itemPrice >= 0
  ->
  \[{ 
      tot = tot + itemPrice; 
      if (coupon) {
        tot = tot - itemPrice/10;
      }
    }\] (tot >= old)
  
}


