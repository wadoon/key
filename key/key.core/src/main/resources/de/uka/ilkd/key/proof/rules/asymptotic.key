\functions {
  int asymptotic(int);
}

\schemaVariables {
  \term int i, i1, i2;
  \term numbers iz;
}

\rules {
  asympHomomorphicAdd {
    \find ( asymptotic(add(i1, i2)) ) \inSequentState
    \replacewith ( add(asymptotic(i1), asymptotic(i2)) )
    \heuristics (simplify_enlarging)
  };
  
  asympHomomorphicMul {
    \find ( asymptotic(mul(i1, i2)) ) \inSequentState
    \replacewith ( mul(asymptotic(i1), asymptotic(i2)) )
    \heuristics (simplify_enlarging)
  };
  
  asympHomomorphicSub {
    \find ( asymptotic(sub(i1, i2)) ) \inSequentState
    \replacewith ( sub(asymptotic(i1), asymptotic(i2)) )
    \heuristics (simplify_enlarging)
  };
  
  asympHomomorphicDiv {
    \find ( asymptotic(div(i1, i2)) ) \inSequentState
    \replacewith ( div(asymptotic(i1), asymptotic(i2)) )
    \heuristics (simplify_enlarging)
  };
  
  asympZero {
    \find ( asymptotic(Z(0(#))) )
    \replacewith ( Z(0(#)) )
    \heuristics (concrete)
  };

  asympNeutralAdd1 {
    \find ( add(asymptotic(Z(iz)), i) )
    \replacewith ( i )
    \heuristics (simplify)
  };

  asympNeutralAdd2 {
    \find ( add(i, asymptotic(Z(iz))) )
    \replacewith ( i )
    \heuristics (simplify)
  };

  asympNeutralSub1 {
    \find ( sub(i, asymptotic(Z(iz))) )
    \replacewith ( i )
    \heuristics (simplify)
  };

  asympNeutralSub2 {
    \find ( sub(asymptotic(Z(iz)), i) )
    \replacewith ( -i )
    \heuristics (simplify)
  };

  asympNeutralMul1 {
    \find ( mul(asymptotic(Z(iz)), i) )
    \replacewith ( \if (Z(iz) = Z(0(#))) \then (Z(0(#))) \else (i) )
    \heuristics (simplify)
  };
  
  asympNeutralMul2 {
    \find ( mul(i, asymptotic(Z(iz))) )
    \replacewith ( \if (Z(iz) = Z(0(#))) \then (Z(0(#))) \else (i) )
    \heuristics (simplify)
  };
  
  asympNeutralDiv1 {
    \find ( div(i, asymptotic(Z(iz))) )
    \replacewith ( \if (Z(iz) = Z(0(#))) \then (div(i, Z(0(#)))) \else (i) )
    \heuristics (simplify)
  };
  
  asympNeutralDiv2 {
    \find ( div(asymptotic(Z(iz)), i) )
    \replacewith ( \if (Z(iz) = Z(0(#))) \then (Z(0(#))) \else (div(1, i)) )
    \heuristics (simplify)
  };
  
  asympEq1 {
    \find ( asymptotic(Z(iz)) = i )
    \replacewith ( 0 = i )
    \heuristics (simplify)
  };
  
  asympEq2 {
    \find ( i = asymptotic(Z(iz)) )
    \replacewith ( i = 0 )
    \heuristics (simplify)
  };
}