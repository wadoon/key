/*
Normal assignment in loop. Loop invariant generated by us (not by predicate abstraction).
It supposed to be closed.
Current State: Closed.
Are the pre and post conditions correct?
*/

\predicates{
  
}

\programVariables {
  int[] array;
  int i;
}



\problem {
 /* loop invariant:
     i>=0 & i<=array.length & (\forall int x; (x>=0 & x < i -> array[x] = 1))
     modifies: allFields(array)
     variant: array.length - i
  */
  array!=null & wellFormed(heap) & noW(allFields(array)) & noRaW(allFields(array)) 
   -> {i:=0} \<{ 
                  while(i<array.length){
   					array[i]=1;
   					i++;
   				} 
   			}\>(i=array.length & (\forall int x; (x>=0 & x < array.length -> array[x] = 1)) & noRaW(allFields(array))) 
}