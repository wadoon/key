\rules {
	assignmentStorageLocalFrom {
        	\schemaVar \modalOperator {box_transaction, diamond_transaction, box, diamond} #allmodal;
 		\schemaVar \formula post;
			      
                \schemaVar \program Variable #a;
		\schemaVar \program SimpleExpression #se;
                
		\find ( ==> \modality{#allmodal}{ .. this.#a = #se; ... }\endmodality(post))
		\varcond( /* \isStorage(#v),  */ \not \isReference(\typeof(#se))   )
		\replacewith ( ==> { storage := writeField(storage, #memberPVToField(#a), #se) }
		                        \modality{#allmodal}{ ..  ... }\endmodality(post))
		\heuristics ( simplify_prog_subset, simplify_prog )
		\displayname "assignment"
	};


}