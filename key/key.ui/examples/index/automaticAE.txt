# This file is part of KeY - Integrated Deductive Software Design
#
# Copyright (C) 2001-2011 Universitaet Karlsruhe (TH), Germany
#                         Universitaet Koblenz-Landau, Germany
#                         Chalmers University of Technology, Sweden
# Copyright (C) 2011-2019 Karlsruhe Institute of Technology, Germany
#                         Technical University Darmstadt, Germany
#                         Chalmers University of Technology, Sweden
#
# The KeY system is protected by the GNU General
# Public License. See LICENSE.TXT for details.
#
# This file describes the benchmark problems.
# Files marked as provable should be closed automatically.
# Files marked as nonprovable should be not closable.
#
# RunAllProofs documentation can be found at: key/doc/README.runAllProofs
#

/*
 * Defines a base directory.
 * All paths in this file are treated relative to base directory (except path for base directory itself).
 */
baseDirectory = ../

/*
 * Defines a statistics file.
 * Path is relative to base directory.
 */
statisticsFile = ../../key.core.test/testresults/runallproofs/runStatistics.csv

/*
 * Fork mode setting, can be declared to create subprocesses while running tests declared in this file.
 * Possible modes: noFork - all files are proven within a single process
 *                 perGroup - one subprocess is created for each group
 *                 perFile - one subprocess is created for each file
 */
forkMode = perGroup

/*
 * Enable or disable proof reloading.
 * If enabled, closed proofs will be saved and reloaded after prover is finished.
 */
reloadEnabled = true

/*
 * Temporary directory, which is used for inter process communication when using forked mode.
 * The given path is relative to baseDirectory.
 */
tempDir = ../../key.core.test/runallproofs_tmp

/*
 * If the fork mode is not set to noFork, the launched subprocesses are terminated as
 * soon as the timeout specified here has elapsed. No timeout occurs if not specified.
 * 
 * Timeout per subprocess in seconds
 */
forkTimeout = 1000

/*
 * If the fork mode is not set to noFork, the launched subprocesses 
 * get the specified amount of heap memory.
 * 
 * Heap memory for subprocesses (like 500m or 2G)
 */
# forkMemory = 1000m

/*
 * To run the forked JVM in debug mode, set the TCP port to listen to here.
 * You can prefix the port with "wait:" to make the JVM suspend till the
 * process has connected.
 *
 * Examples:  forkDebugPort = "8000"
 *            forkDebugPort = "wait:1234"
 */
# forkDebugPort = "wait:1234"

/*
 * By default runAllProofs does not print a lot of information.
 * Set this to true to get more output.
 */
 verboseOutput = true

/*
 * By default, runAllProofs runs all groups in this file.
 * By naming a comma separated list of groups here, the
 * test can be restricted to these groups (for debugging).
 */
# runOnlyOn = group1,group2

keySettings = "#Proof-Settings-Config-File
#Mon Aug 03 16:58:18 CEST 2009
[StrategyProperty]STOPMODE_OPTIONS_KEY=STOPMODE_DEFAULT
[StrategyProperty]METHOD_OPTIONS_KEY=METHOD_CONTRACT
# The 'Defaults' are ON for the following:
[StrategyProperty]DEP_OPTIONS_KEY=DEP_OFF
[StrategyProperty]QUERY_NEW_OPTIONS_KEY=QUERY_OFF
[StrategyProperty]USER_TACLETS_OPTIONS_KEY3=USER_TACLETS_OFF
[StrategyProperty]SYMBOLIC_EXECUTION_ALIAS_CHECK_OPTIONS_KEY=SYMBOLIC_EXECUTION_ALIAS_CHECK_NEVER
[StrategyProperty]SYMBOLIC_EXECUTION_NON_EXECUTION_BRANCH_HIDING_OPTIONS_KEY=SYMBOLIC_EXECUTION_NON_EXECUTION_BRANCH_HIDING_OFF
[StrategyProperty]LOOP_OPTIONS_KEY=NONE
[StrategyProperty]USER_TACLETS_OPTIONS_KEY2=USER_TACLETS_OFF
[StrategyProperty]USER_TACLETS_OPTIONS_KEY1=USER_TACLETS_OFF
[StrategyProperty]QUANTIFIERS_OPTIONS_KEY=QUANTIFIERS_NON_SPLITTING_WITH_PROGS
[StrategyProperty]SPLITTING_OPTIONS_KEY=SPLITTING_DELAYED
# The 'Defaults' are NONE for the following.
[StrategyProperty]NON_LIN_ARITH_OPTIONS_KEY=NON_LIN_ARITH_DEF_OPS
[StrategyProperty]STOPMODE_OPTIONS_KEY=STOPMODE_DEFAULT
[StrategyProperty]QUERYAXIOM_OPTIONS_KEY=QUERYAXIOM_ON
[StrategyProperty]INF_FLOW_CHECK_PROPERTY=INF_FLOW_CHECK_FALSE
[StrategyProperty]AUTO_INDUCTION_OPTIONS_KEY=AUTO_INDUCTION_OFF
[StrategyProperty]BLOCK_OPTIONS_KEY=BLOCK_CONTRACT_INTERNAL
[StrategyProperty]CLASS_AXIOM_OPTIONS_KEY=CLASS_AXIOM_FREE
[StrategyProperty]OSS_OPTIONS_KEY=OSS_ON
[DecisionProcedure]Timeout=60
[Strategy]Timeout=-1
[Strategy]MaximumNumberOfAutomaticApplications=60000
[SMTSettings]integersMaximum=2147483645
[SMTSettings]integersMinimum=-2147483645
[SMTSettings]invariantForall=false
[SMTSettings]UseBuiltUniqueness=false
[SMTSettings]explicitTypeHierarchy=false
[SMTSettings]instantiateHierarchyAssumptions=true
[SMTSettings]useUninterpretedMultiplication=true
[SMTSettings]SelectedTaclets=
[Choice]DefaultChoices=assertions-assertions:on , intRules-intRules:arithmeticSemanticsIgnoringOF , initialisation-initialisation:disableStaticInitialisation , programRules-programRules:Java , runtimeExceptions-runtimeExceptions:ban , JavaCard-JavaCard:on , Strings-Strings:on , modelFields-modelFields:showSatisfiability , bigint-bigint:on , sequences-sequences:on , reach-reach:on , integerSimplificationRules-integerSimplificationRules:full , wdOperator-wdOperator:L , wdChecks-wdChecks:off , permissions-permissions:off , moreSeqRules-moreSeqRules:off , mergeGenerateIsWeakeningGoal-mergeGenerateIsWeakeningGoal:off , javaLoopTreatment-javaLoopTreatment\\:efficient
[Strategy]ActiveStrategy=JavaCardDLStrategy

"

# Examples used in the Abstract Execution paper submitted to FM 2019
group aepaper-provable {
   provable ./abstract_execution/ExtractMethod/CorrectSpecified/extractMethodRefactoring.key
   provable ./abstract_execution/ExtractMethod/Heap/extractMethodRefactoring.key
   provable ./abstract_execution/DecomposeConditional/Correct/decomposeConditional.key
   provable ./abstract_execution/SlideStatements/Correct/slideStatements.key
   provable ./abstract_execution/ReplaceExceptionWithTest/CorrectRollbackForSinglePV/replaceExceptionWithTest.key
   provable ./abstract_execution/ReplaceExceptionWithTest/CorrectRollbackForSkolemLocset/replaceExceptionWithTest.key
   provable ./abstract_execution/MoveStatementsToCallers/Correct/moveStatementsToCallers.key
   provable ./abstract_execution/ConsolidateDuplicateConditionalFragments/ExtractPrefixAsSlideStatementsCorrect/consolidateDuplicateConditionalFragments.key
   provable ./abstract_execution/ConsolidateDuplicateConditionalFragments/ExtractPostfixFromTryCatchNoFinallyCorrect/consolidateDuplicateConditionalFragments.key
   provable ./abstract_execution/ConsolidateDuplicateConditionalFragments/ExtractPostfixFromTryCatchCorrect/consolidateDuplicateConditionalFragments.key
   provable ./abstract_execution/ConsolidateDuplicateConditionalFragments/ExtractPrefixCorrect/consolidateDuplicateConditionalFragmentsPrefixCorrect.key
   provable ./abstract_execution/ConsolidateDuplicateConditionalFragments/ExtractPostfix/consolidateDuplicateConditionalFragmentsPostfix.key
   loadable ./abstract_execution/ExtractMethod/CorrectSpecified/extractMethodRefactoring.proof
}

group aepaper-notprovable {
   notprovable ./abstract_execution/ExtractMethod/WithoutReturnSpec/extractMethodRefactoring.key
   notprovable ./abstract_execution/ExtractMethod/WrongAssignable/extractMethodRefactoring.key
   notprovable ./abstract_execution/ReplaceExceptionWithTest/IncorrectMissingRollback/replaceExceptionWithTest.key
   notprovable ./abstract_execution/ConsolidateDuplicateConditionalFragments/ExtractPrefixIncorrect/consolidateDuplicateConditionalFragmentsPrefixIncorrect.key
}

group aepaper-loops {
   # provable ./abstract_execution/SplitLoop/Correct/splitLoopRefactoring.key # takes very long!
   provable ./abstract_execution/LoopUnrolling/Correct/loopUnrolling.key
   provable ./abstract_execution/RemoveControlFlag/CorrectWithUnrollingInvRule/removeControlFlag.key
   provable ./abstract_execution/RemoveControlFlag/Correct/removeControlFlag.key
   loadable ./abstract_execution/RemoveControlFlag/CorrectWithUnrollingInvRule/removeControlFlag.proof
   loadable ./abstract_execution/RemoveControlFlag/Correct/removeControlFlag.proof
}

# These are the proof files which can be loaded from the examples menu.
# They must work with the current version.
#group reload_examples {
#}
