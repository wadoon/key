package experiments_cose;

public class ArrayList extends List {
   
   public int[] values;   
   public int last;
   
   public ArrayList(int length){
	   if(length<=0)
		   length=1;	  
      values = new int[length];
     /** @
      @ loop_invariant i>=0 && (i<=values.length) && (\forall int j; j<i && j>=0; values[j]==0);
      @ assignable values[*],i;
      @ decreases values.length-i;
      @
      for(int i=0;i<length;i++)
    	  values[i] = 0;	    	  */
      last=-1;
	  
   }
   
   public ArrayList(){
      this(10);
   }
   

   public void add(int value) {
      if(last<values.length-1) {
         last++;
         values[last] = value;
      }     
   }


   public int length() {
      return last+1;      
   }


   public int get(int i) {
      if(i<=last)
         return values[i];
      else
         return Integer.MAX_VALUE;
   }


   public void remove(int i) {
      if(i<=last){
         for(int j=i;j<last;j++)
            values[j]=values[j+1];
         last--;
      }      
   }


   public boolean empty() {
     return (last==-1);
   }

}
