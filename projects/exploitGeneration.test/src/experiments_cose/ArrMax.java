package experiments_cose;

public class ArrMax {
   int[] h;
   int l;
   /*! l | h ; !*/
   
   /*@requires h.length>0 && h.length<5;
   @ensures true;
   @assignable \everything;
      @escapes (\max int j; 0 <= j && j < h.length; h[j]);
   @*/
  public void findMax(){
     int maximum = h[0];
     /*@
      @ loop_invariant (i<=h.length) && (i>0) && (\forall int j; j<i && j>=0; h[j]<=maximum) && (\exists int k; k<i && k>=0; h[k]==maximum);
      @ assignable maximum,i;
      @ decreases h.length-i;
      @*/     
     for(int i = 1; i<h.length; i++)
        if(maximum<h[i])
           maximum = h[i];
     l = maximum;
     
  }
}
