package experiments_cose;

public class Statistics {
	private int[] salaries;
	public int out;
	/*! out | salaries ; !*/
	
	
	/*@requires salaries.length>0 ;
	 @escapes (salaries.length>0);
	 @escapes (\min int j; 0<=j && j<salaries.length; salaries[j]); @*/	
	public int getLowestSalary(){
		if(salaries.length>0){
			int minSalary = salaries[0];
			/*@ 
	        @ loop_invariant i<= salaries.length && (minSalary==(\min int j; 0<=j && j<i; salaries[j]));
	        @ assignable minSalary, i;
	        @ decreases salaries.length-i;
	        @*/
			for(int i=1; i< salaries.length; i++)
				if(minSalary > salaries[i])
					minSalary = salaries[i];
			out = minSalary;
			return minSalary;
		}else{
			out = Integer.MIN_VALUE;
			return Integer.MIN_VALUE;
		}
	}
	
	/*@requires salaries.length>0 ;
	 @escapes (\sum int j; 0<=j && j<salaries.length; salaries[j]); @*/	
	public int getTotalSalary(){
		int sumSalary = salaries[0];
		int i=1;
		/*@ 
        @ loop_invariant i<=salaries.length && (sumSalary==(\sum int j; 0<=j && j<i; salaries[j]));
        @ assignable sumSalary, i;
        @ decreases salaries.length-i;
        @*/
			while( i< salaries.length){
				sumSalary += salaries[i];
				i++;
			}
			out = sumSalary;
			return sumSalary;

	}
	
	/*@requires salaries.length>0 ;
	 @escapes (salaries.length>0);
	 @escapes (\max int j; 0<=j && j<salaries.length; salaries[j]); @*/	
	public int getHighestSalary(){
		if(salaries.length>0){
			int maxSalary = salaries[0];
			/*@ 
	        @ loop_invariant i<= salaries.length && (maxSalary==(\max int j; 0<=j && j<i; salaries[j]));
	        @ assignable maxSalary, i;
	        @ decreases salaries.length-i;
	        @*/
			for(int i=1; i< salaries.length; i++)
				if(maxSalary < salaries[i])
					maxSalary = salaries[i];
			out = maxSalary;
			return maxSalary;
		}else{
			out = Integer.MAX_VALUE;
			return Integer.MAX_VALUE;
		}
	}
}
