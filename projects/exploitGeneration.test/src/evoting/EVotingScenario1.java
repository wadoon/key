package evoting;

public class EVotingScenario1 {
	public Result4Two rs;
	private boolean[] votes;
	
	/*! rs | votes ; !*/
	
	/*@requires votes.length >0 &&  votes!=null;
	 @escapes ((\sum int j; 0 <= j && j < votes.length; (votes[j]? 1 : 0)));
		  @*/
	public void compute(){
		rs = new Result4Two();
		
		/*@loop_invariant 
        i>=0 && 
        i<= votes.length && 
        (rs.votes4A == (\sum int j; 0 <= j && j < i; (votes[j]? 1 : 0)))
        && (rs.votes4B == (\sum int j; 0 <= j && j < i; (votes[j]? 0 : 1)))  ; 
       @assignable rs.votes4A, rs.votes4B,i;
       @decreases votes.length-i;
       @*/
		for(int i = 0; i< votes.length; i++){
	        if(votes[i])
	           rs.increaseVote4A();
	        else
	        	rs.increaseVote4B();
	   	}	   	
	}
	
}
