package experiment_esorics16;

public class EWallet {
	long l,h;
	/*! l | h ; !*/
	
	/*@requires h>=-2147483648 && h<2147483648;@*/
	public void check(){
		if((200<l) & (l<500))
			l = debit(h,1000000);
		else
			l = 0;
	}
	
	/*@ requires amount>0;
    @ assignable \nothing;
    @ ensures ((account<amount) ==> (\result==account))&&
    ((account>=amount) ==>(\result>=0 && \result<amount && (\exists int k; k>=1; k*amount+\result==account)));
    @*/
	private long debit(long account, long amount){
		if(account<amount)
			return account;
		else
			return debit(account-amount,amount);		
	}
	
}
